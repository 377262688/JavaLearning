# 并发编程

### 1.简介
#### 使用并发的原因
- 资源利用率
- 公平性
- 便利性

#### 线程的优势

- 发挥多核处理器的强大能力
- 建模简单
- 异步事件简化处理
- 响应更灵敏的用户界面

#### 线程带来的问题

- 线程安全（原子性，可见性，有序性）
- 活跃性问题（死锁，饥饿，活锁）
- 性能问题（上下文切换）

### 2.线程安全
定义：当多个线程访问某个类时，这个类始终都能保持正确的行为，这个类就是线程安全的。

在进行共享的可变状态时需要进行正确的管理
#### 原子性

- 竞态条件

- 锁（synchnized）可重入锁，代码块，保证多个线程串行执行。
  1.每个共享和可变的变量都应该只由一个锁来保护，从而让维护人员知道是哪一个锁
  2.对于包含多个变量的不变性条件，其中涉及的所有变量都需要由同一个锁来保护
#### 活跃性与性能
- 缩小锁的使用范围，只有需要时，才进行锁定（不要盲目的为了性能而牺牲简单性）
- 当进行时间较长的计算和IO操作时，不要使用锁（清楚代码块中实现的功能，以及执行时间），
  无论是计算密集型或者是某个可能阻塞的操作，如果持有锁的时间过长，都会带来活跃性和性能的问题。
### 3.对象的共享
如何共享和发布对象，从而使他们能够安全的由多个线程同时访问。

### 可见性（内存可见性）




